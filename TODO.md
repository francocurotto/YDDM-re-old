TODO:
- replace result returns with message class parameter
- implement duel as mealy state machine
- Refactor game_states to make them independent of display format (possible?)
